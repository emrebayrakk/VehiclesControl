@page "/chat"
@using MudBlazor
@inject HttpClient Http

<MudContainer MaxWidth="MaxWidth.Medium" Class="pa-10" Style="background-color: #111;">
    <MudText Typo="Typo.h6" Align="Align.Left" Class="text-gradient">
        @message
    </MudText>

    @if (aiChats.Count > 0)
    {
        foreach (var item in aiChats)
        {
            <MudPaper Class="pa-5" Style="background-color: #222; color: white;">
                <MudIcon Icon="@Icons.Material.Filled.Message" Size="Size.Small"></MudIcon><MudText Typo="Typo.body1">@item.Key</MudText>
            </MudPaper>
            <MudPaper Class="pa-5" Style="background-color: #222; color: white;">
                <MudIcon Icon="@Icons.Material.Filled.Assignment" Size="Size.Small"></MudIcon><MudText Typo="Typo.body1">@item.Value</MudText>
            </MudPaper>
        }
    }

    <MudTextField @bind-Value="@userMessage" Label="Buraya bir istem girin" Variant="Variant.Filled" FullWidth="true" />
    
    <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="mt-4" OnClick="SubmitMessageAsync">
        Gönder
    </MudButton>
</MudContainer>